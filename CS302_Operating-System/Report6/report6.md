# Report6

1. What is Uniprogramming:  
   What is the shortcoming of Uniprogramming:

    - What is Uniprogramming
      - Application always runs at same place in physical memory since only one application in main memory (RAM) at a time.
      - Application can access any physical address.
      - Application given illusion of dedicated machine by giving it reality of a dedicated machine.
    - Shortcoming
      - Not efficient use of CPU
      - Not powerful, inflexibility of job scheduling
      - Example: when an application reads from the disk, the CPU will wait for the input of disk. It's better to do other job. The system can't schedule other job because it's uniprogramming.

2. What is Multiprogramming:  
   What is the shortcoming of Multiprogramming:

    - What is Multiprogramming
      - Multiple applications running in main memory (RAM) at the same time.
      - There are two types of Multiprogramming
        - Multiprogramming without protection
          - Must somehow prevent address overlap between threads
          - Use Loader/Linker: Adjust addresses while program loaded into memory (loads, stores, jumps)
        - Multiprogramming with protection (base + bound)
          - Use two special registers BaseAddr and LimitAddr to prevent user from straying outside designated area
      - An operating system that can process multiple programs simultaneously is called a multi-program operating system. A processor or CPU can only run one program at a time. The operating system uses context switches in main memory to run multiple programs.
    - Shortcoming
      - Multiprogramming without protection
        - Bugs in any program can cause other programs to crash or even the OS
      - The operating system is more complicated, and translation and protection need to be considered.
      - CPU scheduling is required.
      - It's difficult to track all the jobs. And long time jobs have to wait for a long time.
      - Memory fragmentation happened and needs memory management and larger memory space.

3. What is the segmentation mechanism and its advantages & disadvantages:

    - What is the segmentation mechanism
      - Segmentation is a memory-management scheme that supports this programmer view of memory.
      - A logical address space is a collection of segments.
      - A program is divided into several segments. Each segment has a name and a length. The addresses specify both the segment name and the offset within the segment. <segment-number, offset>
      - Segment table map 2-dimensional user-defined addresses into 1-dimensional physical. User'view is mapped to physical memory addresses.
      - Each entry in the segment table has a segment base and a segment limit.
    - Advantages
      - Make data more “logical”, easy to share
      - We can do much better on “protection”
      - Reduce fragmentation
    - Disadvantages
      - Segment size is not fixed, more complicated
      - One process need allocate memory many times
      - Fragmentation is smaller but still a problem

4. What is the paging mechanism and its advantages & disadvantages:

    - What is the paging mechanism
      - Paging mechanism involves breaking physical memory into fixed-sized blocks called frames and breaking logical memory into blocks of the same size called pages.
      - Every logical address generated by the CPU is divided into two parts:
        - page number: an index into a page table
        - page offset
      - The page table contains the base address of each page in physical memory.
      - The frame table has an entry for each physical page frame, indicating whether the frame is free or allocated, and if so, which process or which process's page is indicated.
      - Segmentation permits the physical address space of a process to be noncontiguous. Paging is another memory-management scheme that offers this advantage.
      - However, paging avoids external fragmentation and the need for compaction, whereas segmentation does not.
      - It also solves the considerable problem of fitting memory chunks of varying sizes onto the backing store.
      - The page size is 4KB/8KB typically now and some operating system support larger size.
    - Advantages
      - Simple to implement
      - Reduce external fragmentation
      - Demand paging technique (learn latter)
    - Disadvantages
      - Page table requires extra memory space
      - Internal fragmentation problem
      - Longer memory access times, becasue page table lookup

5. How to reduce the occurrence of internal fragmentation when allocating memory? Briefly explain why this method works.

   - Internal: do not need all memory within allocated chunks.
   - The memory must be partitioned into variable sized blocks and assign the best fit block to the process.
   - Partitioning the memory into the variable sized block and assign the best-sized block to a process requesting for the memory.
   - In the worst case, a process would need n pages plus 1 byte. It would be allocated n + 1 frames, resulting in internal fragmentation of almost an entire frame. So the small page sizes are desirable.

6. How to reduce the occurrence of external fragmentation when allocating memory? Briefly explain why this method works.

    - External: free gaps between allocated chunks.
    - Permit the logical address space of the processes to be noncontiguous, thus allowing a process to be allocated physical memory wherever such memory is available.
      - Segmentation
        - Multiple separate segments. Can make full use of the free gaps between allocated chunks.
      - Paging
        - Physical Memory in Fixed Size Chunks.
        - Paging mechanism involves breaking physical memory into fixed-sized blocks called frames and breaking logical memory into blocks of the same size called pages.
        - When we use a paging scheme, we have no external fragmentation: any free frame can be allocated to a process that needs it. However, we may have some internal fragmentation.
        - When a process is executed, it's corresponding pages are loaded into any available memory frames which eliminates external fragmentation.
      - Compaction
        - Compaction is shuffling the memory contents so as to place all free memory together in one large block. The simplest compaction algorithm is to move all processes toward one end of memory; But the cast is too expensive.
